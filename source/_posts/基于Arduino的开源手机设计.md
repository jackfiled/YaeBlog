---
title: 基于ESP8266的Arduino开发设计
date: 2021-09-15 14:55:21
tags:
---

# 基于Arduino的开源手机设计
>注意：本文是北京邮电大学全校公选课程“基于Arduino的开源手机设计”的开发记录。

## Arduino的简单介绍
    Arduino是一款便捷灵活，方便上手的开源电子硬件平台，包括硬件与软件两个部分。硬件是指各种不同类型的Arduino开发板，而软件部分主要是一个
被称为“Arduino”的IDE(集成开发环境)。该项目是由三个意大利的工程师在2005年开发的，Arduino这个名字是意大利一个国王的名字，同时也是开发的一
个工程师喜欢去的酒吧的名字。<br>
    在本次课程中，我们采用的并不是Arduino常用的Atmega328P等芯片，而是由国内芯片设计公司乐鑫科技设计的ESP8266芯片。这是一个面向物联网领
域的高集成度，高性价比的MCU，并且在这颗芯片中还自带的由WiFi模块。这颗芯片的主频高达160MHz，运行速度比Arduino UNO采用的ATmega328P快十倍
有余。<br>
    在本次课程提供的开发板上，采用了南京沁恒微电子股份有限公司设计的CH340作为串口通信芯片，还有一个名为Air202的GPRS/GSM模块，用于实现基本的2G通信功能。除此之外，这块开发板还提供了一个加速度传感器，
可以开发为计步器。<del>虽然这是一个老年机。</del><br>

## 开发环境的配置
在这篇文章中我将介绍两种开发这块开发板的方式，分别是采用Arduino官方IDE“Arduino”，或者采用时下流行的VScode进行配置开发。

### 使用Arduino进行开发
首先我们访问[Arduino的官网](https://www.arduino.cc),点击页面上方的[SOFTWARE](https://www.arduino.cc/en/software)进入下载界面，
![Arduino下载界面](../img/屏幕截图%202021-09-15%20161110.png)
点击页面最上方的一个IDE版本右侧的最上方的"<strong>Windows</strong> Win7 and newer"下载软件的安装包。在点击下载链接之后，可能会打开一个
让你支持Arduino的赞助页面，如果你是一个对开源软件有着执念的程序员，请随意支持。不想支持的人可以直接点击白底蓝字的“JUST DOWNLOAD”开始下载。<br>
在下载完成后，双击安装包进行安装，可以将这个软件安装到任意你想要安装的位置。<br>
>注意：如果你想使用Vscode来开发自己的Arduino，请一定记住现在安装的路径。

双击打开，我们就会看到Arduino这个IDE简洁的界面
![简洁的界面](../img/屏幕截图%202021-09-15%20163020.png)
但是，因为我们所使用开发板并不是Arduino官方的开发板，所以在刚刚下载的IDE中点击工具下拉菜单在“开发板”选项中并不会看见我们使用的开发板，因
因此我们需要在Arduino中下载用来开发我们所有的开发板的软件包。<br>
点击“文件”下拉菜单，点击“首选项”以打开设置界面。在设置界面首页的“附加开发板管理器网址”中填入
>http://arduino.esp8266.com/stable/package_esp8266com_index.json

然后点击好保存退出。<br>
此时再依次点击“工具”下拉菜单，“开发板”，“开发板管理器”来打开开发板管理器。
![开发板管理器](../img/屏幕截图%202021-09-15%20164503.png)
在上面的搜索框中输入8266进行搜索，找到一个名为“esp8266”的开发包，选择最新版本进行安装。
![找到](../img/屏幕截图%202021-09-15%20164718.png)
>这里已经进行了一次安装，大家看到的界面可能和图片上的界面不太一样。

当然到这里，可能有人会认为，我们可以将Arduino通过USB线缆连接在电脑上，快乐的开始自己的手机设计之旅了。但是，还不行。原因很简单，我们还没有安装驱动。驱动时连接硬件程序与软件之间的桥梁，我们的先搭建一座桥梁，我们的数据才能正常的传输进入我们的硬件中。我们所用的通信芯片是
CH340,所以我们在网上搜索，找到驱动程序的下载界面[下载界面](http://www.wch.cn/downloads/CH341SER_EXE.html)，点击下载之后运行安装
驱动程序，之后我们便可以在Arduino的“工具”下拉菜单中“端口”中看见我们的Arduino所在的端口<del>当然你得先把自己的开发板用Type-C的数据线连接
在电脑的任意一个USB接口上</del>。<br>

### 使用VScode进行的开发
众所周知，VScode作为Microsoft开发的开源编辑器，是我们程序员进行的开发的好助手。但在配置VScode之前，请先按照配置Arduino的方法对Arduino进
行配置，因为我们只是使用VScode作为编辑器，VScode本身并不具有编译Arduino应用程序的功能，所以我们还是得在我们的电脑中安装Arduino作为编译器。<br>
在安装好Arduino之后，我们把Arduino所在的路径添加进入环境变量，在命令行中输入
```
arduino
```
如果可以正常的唤出Arduibo程序说明添加环境变量成功。<br>
>值得注意的是，在关于是否必须将Arduino添加进入环境变量这一点还值得考虑，我在网络上找到的文章中，有将Arduino添加进入环境变量的，也有没有添加进入的。

>如果你不知道如何将路径添加进入环境变量，那我还是建议你不要采用VScode进行开发。

















